function buildUrl(){let t=localStorage.getItem("category"),e=localStorage.getItem("difficulty"),n=localStorage.getItem("type"),s="https://opentdb.com/api.php?amount=10";return null!=t&&(s+=`&category=${t}`),null!=e&&(s+=`&difficulty=${e}`),null!=n&&(s+=`&type=${n}`),console.log(s),s}function setStatusClass(t,e){clearStatusClass(t),e?t.classList.add("correct"):t.classList.add("wrong")}function clearStatusClass(t){t.classList.remove("correct"),t.classList.remove("wrong")}fetch(buildUrl()).then((t=>t.json())).then((t=>{if(1!=t.response_code)return t.results;{let t=document.getElementById("questionsContainer"),e=document.getElementById("btnResults");e.innerHTML="Back to Game Settings",e.href="/playOptions.html",t.innerHTML='\n                        <div class="no-questions">\n                            <p>Lo sentimos mucho, no contamos aún con las preguntas para los parametros seleccionados, por favor intenta de nuevo con otros parámetros</p>\n                        </div>\n                    '}})).then((t=>{if("boolean"!=t[0].type){let e=0;localStorage.setItem("score",e),t.forEach(((t,e)=>{const n=document.createElement("div");n.classList.add("question"),n.innerHTML=`\n                    <div class="question-text">${t.question}</div>\n                    <div class="answers" id="${e}">\n                        <button class="answer answerA btn btn-light btn-sm">${t.correct_answer}</button>\n                        <button class="answer answerB btn btn-light btn-sm">${t.incorrect_answers[0]}</button>\n                        <button class="answer answerC btn btn-light btn-sm">${t.incorrect_answers[1]}</button>\n                        <button class="answer answerD btn btn-light btn-sm">${t.incorrect_answers[2]}</button>\n                    </div>\n                `,n.addEventListener("click",(e=>{if(e.target.classList.contains("answer")){function n(){document.getElementById(e.target.parentElement.id).querySelectorAll("button").forEach((t=>{t.disabled=!0}))}const s=e.target,a=s.innerText===t.correct_answer;if(a){let t=localStorage.getItem("score");t++,localStorage.setItem("score",t),n()}else n();setStatusClass(document.body,a),Array.from(s.parentElement.children).forEach((e=>{setStatusClass(e,e.innerText===t.correct_answer)}))}})),document.getElementById("questionsContainer").appendChild(n)}))}else t.forEach(((t,e)=>{const n=document.createElement("div");n.classList.add("question"),n.innerHTML=`\n                        <div class="question-text">${t.question}</div>\n                        <div class="answers info" id="${e+1}">\n                            <button class="answer answerA btn btn-light btn-sm">${t.correct_answer}</button>\n                            <button class="answer answerB btn btn-light btn-sm">${t.incorrect_answers[0]}</button>\n                        </div>\n                    `,n.addEventListener("click",(e=>{if(e.target.classList.contains("answer")){const n=e.target,s=n.innerText===t.correct_answer;setStatusClass(document.getElementsByClassName("info"),s),Array.from(n.parentElement.children).forEach((e=>{setStatusClass(e,e.innerText===t.correct_answer)}))}})),document.getElementById("questionsContainer").appendChild(n)}))}));